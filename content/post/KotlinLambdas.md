+++
title = "Kotlin-Lambda"
lastmod = 2019-01-31T18:12:17+08:00
draft = true
weight = 2001
author = "louiszgm"
+++

参考链接：<https://juejin.im/post/5abd8ed351882510fd3fb8b1#heading-17>

-   基本表达式，和引用
-   lambda和java的互相使用（可以说一下Java中可以用this拿到自己，lambda却不可以：比如在Listener里面Java可以用this取消自己，Kotlin不行）
-   带接收者的lambda（with apply等等，说说这些函数的实现原理）
-   高阶函数 （高阶函数的定义，Java中怎么调用）
-   内联函数
-   高阶函数中的return


## 它是什么 {#它是什么}

说起Lambda，必然是会和高阶函数进行关联起来。而他们两个到底是什么关系呢？
目的是服务于Kotlin的高阶函数,他主要有三个作用

-   初始化函数类型的值
-   作为字面量直接传递给高阶函数的参数
-   作为高阶函数的返回值

至于大多数人说使用Lambdas可以使代码更加的简洁。简洁这个本身就是比较主观的东西，有的人觉得简洁了，有的人觉得可读性更差了。
这个我个人认为并不是Lambdas主要解决的问题。


### 高阶函数 {#高阶函数}

高阶函数具备以下两个特点，满足其一即可：

-   将函数作为输入传给函数
-   让函数返回函数

既然是可以作为输入输出，那么他也是有类型的。我们把这种称之为 `函数类型` 。这个很好理解，字符串也有类型 `String` ，函数类型也是这个意思。
既然是一种类型，那必然会有存在 `声明和初始化` ，下面分别说一下这两部分：


#### 函数类型是怎么表示的 {#函数类型是怎么表示的}

我们声明一个字符串类型的变量的时候，是怎么声明的

```Kotlin
//其中的String就是字符串类型的表示形式
var text:String
```

而函数类型的表示形式，有如下的几种：

-   用圆括号 `()` 将函数的输入参数包起来, 圆括号后面用右箭头 `->` ，右箭头后面接的是函数的返回值的类型。连起来就是像下面那样

```text
//当参数为空时，不能省略圆括号
//当返回值C的类型是Unit的时候（对应Java的Void），不能省略
(A,B)->C, A和B是函数输入参数的类型，C是函数返回值的类型
```

既然是类型，那当然可以使用 `?`,来声明为nullable

输入参数中，也就是被圆括号括起来的，参数名字可以省略不写。但类型是必须要的

多个函数类型之间是可以互相嵌套的


#### 初始化函数类型 {#初始化函数类型}

我们声明了一个字符串类型变量，是怎么赋值的

```nil
var text:String = "Instantiating a String type"
```

同样的，我们声明了一个函数类型的变量之后，也是需要赋值的。那接下来，我们看下可以如果初始化一个函数类型的值。


## 它解决了什么问题 {#它解决了什么问题}


## 它怎么用 {#它怎么用}


### 说一下lambda表达式作为函数调用的最后一个参数时的三种写法，放到括号后面，省略括号和常规写法 {#说一下lambda表达式作为函数调用的最后一个参数时的三种写法-放到括号后面-省略括号和常规写法}


## 它在开发过程中使用的案例是什么样的 {#它在开发过程中使用的案例是什么样的}


## 它内部是怎么去做的 {#它内部是怎么去做的}


## 总结，附上源码地址 {#总结-附上源码地址}
